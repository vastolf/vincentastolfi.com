---
title: Star Field - Tutorial
tagline: Learn how to make an infinite Star Field effect in TypeScript & CSS
slug: star-field-tutorial
background: /moon.jpg
date: 05/11/2022
---

In this tutorial you'll learn how to make a simple, infinitely looping star field effect using 
TypeScript and CSS. I personally use this effect throughout my site to add a bit of visual flair.

The requirements we want to meet with this effect are:
- Ability to include our component in nearly any container, and have the star field loop in the background
- Have varying sizes of stars, as well as color & speed variations
- Seamlessly loop the star effect

## Helper Functions

We'll begin by setting up some helper functions that we'll use to deal with random generations of numbers,
stars, and the colors for the stars:

```typescript
// Used for generating random Integers between 0 & a max value (inclusive)
const randomMaxIntInclusive = (max: number) : number => {
    return Math.round(Math.random() * max);
}

// Introduces even more variability by giving bright stars random different colors
const getRandomBrightColor = () : String => {
    const brightColors : Array<String> = ["#c8c8c8", "#b9b398", "#b7948c"]
    return brightColors[randomMaxIntInclusive(brightColors.length - 1)];
}

// x = x coord of box shadow, y = y coord, makeBright = whether or not we should make this star "bright" by setting its
// color to white; because we randomly set makeBright to true based on a percentage chance, this introduces more variability
// in the stars
// returns something like "508px 341px," or "437px 871px #c8c8c8," depending on if makeBright is true or not
const getSingleBoxShadowString = (x: number, y: number, makeBright: boolean) : string => {
    return x + 'px ' + y + 'px' + (makeBright ? ' ' + getRandomBrightColor() + ',' : ',');
}

// Generates the full boxShadows string that we'll put inline on the star divs; ouputs something like "500px 500px, 319px 740px, ..."
// Sometimes it will include a color in the string if we're making the star (box shadow) brighter
const generateStarsBoxShadowsString = (
        containerHeight: number,
        containerWidth: number,
        stars: number,
        brightPercentage: number
    ) : string => {
    // instantiate an empty string, which we will append to when adding the box shadows (stars)
    let boxShadowString = '';
    // Generate Stars using Box Shadows between containerWidth and containerHeight
    for (let i = 0; i < stars; i++) {
        boxShadowString += getSingleBoxShadowString(
            // Random X value, cannot be greater than containerWidth
            randomMaxIntInclusive(containerWidth),
            // Random Y value, cannot be greater than containerHeight
            randomMaxIntInclusive(containerHeight),
            // Random boolean based on brightPercentage (helps introduce vairability in brightness between stars of a size)
            // This works by generating a random # between 0 - 100, and checking if brightPercentage is greater; in this way
            // we can randomly (in a psuedo-random way) assign certain stars to be "brighter" at a rate we define 
            (randomMaxIntInclusive(100) < brightPercentage ? true : false)
        );
    }
    // Remove the last comma & return; this is probably better than checking if stars - 1 = i every time we want to add a comma
    return boxShadowString.slice(0, -1);
}
```

The only function we actually need to export directly is

Trying out MDX. This MDX will end up in a p tag.

This will end up in its own p tag. [here's a link](https://google.com/)

Here is `one line code`

```typescript
# https://highlightjs.org/
Here's a code block
```

# Heading 1

## Heading 2

### Heading 3

#### Heading 4

##### Heading 5